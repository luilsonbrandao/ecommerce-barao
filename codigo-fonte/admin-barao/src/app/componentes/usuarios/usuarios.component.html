<app-navbar></app-navbar>

<div class="container mt-4 mb-5">
  <div class="row mb-4 border-bottom pb-2 align-items-center">
    <div class="col-md-8">
      <h3 class="fw-bold m-0"><i class="fas fa-users-cog me-2 text-primary"></i> Gerenciar Usuários</h3>
    </div>
    <div class="col-md-4 text-md-end mt-3 mt-md-0">
      <a class="btn btn-primary fw-bold" routerLink="/editorusuario/new"><i class="fas fa-plus me-1"></i> Novo Usuário</a>
    </div>
  </div>

  <div class="card shadow-sm border-0 table-responsive">
    <table class="table table-hover table-striped m-0">
      <thead class="table-dark">
        <tr><th>#</th><th>Nome</th><th>Username</th><th>Email</th><th class="text-center">Ativo</th></tr>
      </thead>
      <tbody>
        @for (USER of lista; track USER.id) {
          <tr>
            <td class="fw-bold">{{ USER.id }}</td>
            <td><a [routerLink]="['/editorusuario', USER.id]" class="text-decoration-none fw-semibold">{{ USER.nome }}</a></td>
            <td>{{ USER.username }}</td>
            <td>{{ USER.email }}</td>
            <td class="text-center">
              <div class="form-check form-switch d-flex justify-content-center">
                <input class="form-check-input" type="checkbox" role="switch" [checked]="USER.ativo === 1" (change)="mudaStatus(USER, $event)">
              </div>
            </td>
          </tr>
        } @empty {
          <tr><td colspan="5" class="text-center py-3 text-muted">Nenhum usuário encontrado.</td></tr>
        }
      </tbody>
    </table>
  </div>
</div>
