<div class="container mt-5" *ngIf="produto; else carregando">
  <a routerLink="/" class="btn btn-outline-secondary mb-4">
    <i class="bi bi-arrow-left"></i> Voltar
  </a>

  <div class="row">
    <div class="col-md-6">
      <img
        [src]="produto.linkFoto"
        class="img-fluid rounded shadow-sm"
        [alt]="produto.nome"
        style="width: 100%; height: 400px; object-fit: cover"
      />
    </div>

    <div class="col-md-6">
      <h1 class="display-5 fw-bold">{{ produto.nome }}</h1>

      <h3 class="text-primary my-3">
        R$ {{ produto.preco | number: "1.2-2" }}
      </h3>
      <p class="lead text-muted">{{ produto.detalhe }}</p>

      <hr class="my-4" />

      <div class="mb-3" style="max-width: 150px">
        <label for="qtd" class="form-label fw-bold">Quantidade:</label>
        <input
          type="number"
          id="qtd"
          class="form-control"
          [(ngModel)]="quantidade"
          min="1"
          max="99"
        />
      </div>

      <div class="d-grid gap-2">
        <button class="btn btn-success btn-lg" (click)="comprarWhatsapp()">
          <i class="bi bi-whatsapp"></i> Agendar via WhatsApp
        </button>

        <button
          class="btn btn-outline-primary btn-lg"
          (click)="adicionarCarrinho()"
        >
          <i class="bi bi-cart-plus"></i> Adicionar ao Carrinho
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #carregando>
  <div class="container text-center mt-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
    <p class="mt-2">Buscando informações...</p>
  </div>
</ng-template>
